(self.webpackChunkangular_newsrc=self.webpackChunkangular_newsrc||[]).push([[927],{8927:(e,r,o)=>{"use strict";o.r(r),o.d(r,{UserlogModule:()=>N});var t=o(8583),i=o(5855),n=o(639);let s=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-userlog"]],decls:1,vars:0,template:function(e,r){1&e&&n._UZ(0,"router-outlet")},directives:[i.lC],styles:[""]}),e})();var a=o(665),l=o(892);function u(e,r){1&e&&(n.TgZ(0,"small",19),n._uU(1,"4 digit require"),n.qZA())}const c=function(){return["/userlog/verification"]};function m(e,r){1&e&&(n.TgZ(0,"a",20),n._uU(1,"Verifiy your number "),n.qZA()),2&e&&n.Q6J("routerLink",n.DdM(1,c))}let d=(()=>{class e{constructor(e,r,o){this.authservice=e,this.fb=r,this.router=o,this.profileUpdateForm=this.fb.group({fullName:["",a.kI.required],userName:["",a.kI.required],email:["",a.kI.required],password:["",[a.kI.required,a.kI.minLength(4)]],confirmpassword:["",a.kI.required]})}ngOnInit(){this.authservice.getProfile().subscribe(e=>{this.userValue=e.user,this.profileUpdateForm.get("fullName").setValue(this.userValue.fullName),this.profileUpdateForm.get("userName").setValue(this.userValue.userName),this.profileUpdateForm.get("email").setValue(this.userValue.email)},e=>{console.log(e)})}onprofileupdateform(){this.authservice.updateUser(this.userValue._id,this.profileUpdateForm.value).subscribe(e=>{e.body.success?console.log("profile updated successfully"):console.log("profile not updated")})}}return e.\u0275fac=function(r){return new(r||e)(n.Y36(l.e),n.Y36(a.qu),n.Y36(i.F0))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-dashboard"]],decls:29,vars:3,consts:[[1,"dash-div"],[1,"dash-content"],[1,"page-header"],[3,"formGroup","ngSubmit"],[1,"form-group","mt-2"],["for","fullName"],["type","text","formControlName","fullName",1,"form-control"],["for","userName"],["type","text","formControlName","userName",1,"form-control"],["for","email"],["type","text","formControlName","email",1,"form-control"],["for","password"],["type","password","formControlName","password",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"form-group","mt2"],["for","confirmpassword"],["type","password","formControlName","confirmpassword",1,"form-control"],["type","submit",1,"btn","btn-primary","mt-2"],["class","verification",3,"routerLink",4,"ngIf"],[1,"text-danger"],[1,"verification",3,"routerLink"]],template:function(e,r){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"h1",2),n._uU(3,"Dashboard"),n.qZA(),n.TgZ(4,"form",3),n.NdJ("ngSubmit",function(){return r.onprofileupdateform()}),n.TgZ(5,"div",4),n.TgZ(6,"label",5),n._uU(7,"Fullname"),n.qZA(),n._UZ(8,"input",6),n.qZA(),n.TgZ(9,"div",4),n.TgZ(10,"label",7),n._uU(11,"Username"),n.qZA(),n._UZ(12,"input",8),n.qZA(),n.TgZ(13,"div",4),n.TgZ(14,"label",9),n._uU(15,"Email"),n.qZA(),n._UZ(16,"input",10),n.qZA(),n.TgZ(17,"div",4),n.TgZ(18,"label",11),n._uU(19,"New Password"),n.qZA(),n._UZ(20,"input",12),n.YNc(21,u,2,0,"small",13),n.qZA(),n.TgZ(22,"div",14),n.TgZ(23,"label",15),n._uU(24,"Confirm Password"),n.qZA(),n._UZ(25,"input",16),n.qZA(),n.TgZ(26,"button",17),n._uU(27,"Update Info"),n.qZA(),n.YNc(28,m,2,2,"a",18),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(4),n.Q6J("formGroup",r.profileUpdateForm),n.xp6(17),n.Q6J("ngIf",r.profileUpdateForm.get("password").invalid&&r.profileUpdateForm.get("password").touched),n.xp6(7),n.Q6J("ngIf",!(null!=r.userValue&&r.userValue.verified)))},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,t.O5,i.yS],styles:[".dash-div[_ngcontent-%COMP%]{height:92.1vh;width:100%;background-image:url(Register.e2fc6df3051031756574.jpg);background-size:cover;background-repeat:no-repeat}.dash-content[_ngcontent-%COMP%]{display:inline-block;width:30%;margin-top:5%;margin-left:33%}.page-header[_ngcontent-%COMP%]{color:#000;padding-left:35%}label[_ngcontent-%COMP%]{font-weight:900}.verification[_ngcontent-%COMP%]{text-decoration:none;color:red}"]}),e})();function g(e,r){1&e&&(n.TgZ(0,"small",19),n._uU(1," This is required field "),n.qZA())}function p(e,r){if(1&e&&(n.TgZ(0,"div"),n.YNc(1,g,2,0,"small",18),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",null==e.fullName.errors?null:e.fullName.errors.required)}}function f(e,r){1&e&&(n.TgZ(0,"div"),n.TgZ(1,"small",19),n._uU(2," This is required field "),n.qZA(),n.qZA())}function h(e,r){1&e&&(n.TgZ(0,"div"),n.TgZ(1,"small",19),n._uU(2," This is required field "),n.qZA(),n.qZA())}function Z(e,r){1&e&&(n.TgZ(0,"small",19),n._uU(1," This is required field "),n.qZA())}function b(e,r){1&e&&(n.TgZ(0,"small",19),n._uU(1," Please write atleast 4 character long password "),n.qZA())}function v(e,r){if(1&e&&(n.TgZ(0,"div"),n.YNc(1,Z,2,0,"small",18),n.YNc(2,b,2,0,"small",18),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",null==e.password.errors?null:e.password.errors.required),n.xp6(1),n.Q6J("ngIf",null==e.password.errors?null:e.password.errors.minlength)}}function q(e,r){1&e&&(n.TgZ(0,"small",19),n._uU(1," This is required field "),n.qZA())}function w(e,r){1&e&&(n.TgZ(0,"small",19),n._uU(1," Please write atleast 4 character long password "),n.qZA())}function T(e,r){if(1&e&&(n.TgZ(0,"div"),n.YNc(1,q,2,0,"small",18),n.YNc(2,w,2,0,"small",18),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",null==e.confirmpassword.errors?null:e.confirmpassword.errors.required),n.xp6(1),n.Q6J("ngIf",null==e.confirmpassword.errors?null:e.confirmpassword.errors.minlength)}}const _=[{path:"",component:s,children:[{path:"login",component:(()=>{class e{constructor(e,r,o){this.authservice=e,this.fb=r,this.router=o,this.loginForm=this.fb.group({userName:["",a.kI.required],password:["",[a.kI.required,a.kI.minLength(4)]]})}get userName(){return this.loginForm.get("userName")}get password(){return this.loginForm.get("password")}ngOnInit(){}onLoginSubmit(){this.authservice.authenticateUser(this.loginForm.value).subscribe(e=>{console.log(e),e.body.success?(this.authservice.storeUserData(e.body.token,e.body.user),console.log("user logged in"),this.router.navigate(["/userlog/dashboard"])):(console.log("wrong credentional"),this.router.navigate(["/userlog/login"]))})}}return e.\u0275fac=function(r){return new(r||e)(n.Y36(l.e),n.Y36(a.qu),n.Y36(i.F0))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-login"]],decls:20,vars:1,consts:[[1,"outer-container"],[1,"inner-container"],[1,"main-container"],[3,"formGroup","ngSubmit"],[1,"img-div"],["src","../../../assets/images/login2.jpg","alt","Error",1,"real-img",2,"height","300px","width","600px"],[1,"main-content"],["type","text","placeholder","Enter Your Username","name","username","formControlName","userName",1,"credential"],["type","password","placeholder","Enter your Password","name","password","formControlName","password",1,"credential"],[1,"label-and-link"],["for","",1,"checkbox-label"],["type","checkbox",1,"check-box"],["href","#",1,"forgot-link"],["type","submit",1,"btn-credential"]],template:function(e,r){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"form",3),n.NdJ("ngSubmit",function(){return r.onLoginSubmit()}),n.TgZ(4,"div",4),n._UZ(5,"img",5),n.qZA(),n.TgZ(6,"div",6),n.TgZ(7,"h1"),n._uU(8,"Sign In"),n.qZA(),n._UZ(9,"input",7),n._UZ(10,"input",8),n.TgZ(11,"div",9),n.TgZ(12,"div"),n.TgZ(13,"label",10),n._uU(14,"Remember Me"),n.qZA(),n._UZ(15,"input",11),n.qZA(),n.TgZ(16,"a",12),n._uU(17,"Forgot Password ?"),n.qZA(),n.qZA(),n.TgZ(18,"button",13),n._uU(19,"Submit"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(3),n.Q6J("formGroup",r.loginForm))},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u],styles:["*{margin:0;padding:0;font:62.5%;box-sizing:border-box}body{background:linear-gradient(#0000009e,#0000009e),url(login1.f7713669aeec25e89909.jpg) no-repeat}.outer-container{display:flex;justify-content:center;align-items:center}.inner-container{margin-top:2rem;background-color:#fff;margin-bottom:2rem}.img-div{height:20%;width:20%}h1{margin:1rem 2rem;color:green}.credential{margin:2rem}.btn-credential,.credential{display:block;padding:.5rem;width:90%}.btn-credential{margin:1rem 2rem}.label-and-link{display:flex;justify-content:space-between}.checkbox-label{margin-left:2rem;color:green;Font-weight:700}.check-box{height:1rem;width:2rem}.forgot-link{margin:0 2rem;text-decoration:none}"],encapsulation:2}),e})()},{path:"register",component:(()=>{class e{constructor(e,r,o){this.fb=e,this.authservice=r,this.router=o,this.registrationForm=this.fb.group({fullName:["",[a.kI.required]],userName:["",[a.kI.required]],email:["",[a.kI.required]],password:["",[a.kI.required,a.kI.minLength(4)]],confirmpassword:["",[a.kI.required,a.kI.minLength(4)]],verified:[!1]})}get fullName(){return this.registrationForm.get("fullName")}get userName(){return this.registrationForm.get("userName")}get email(){return this.registrationForm.get("email")}get password(){return this.registrationForm.get("password")}get confirmpassword(){return this.registrationForm.get("confirmpassword")}ngOnInit(){}loadexampleApiData(){this.registrationForm.setValue({fullName:"demo",userName:"demo1",email:"demo@gmail.com",password:"1111",confirmpassword:"1111",verified:[!1]})}registrationFormSubmit(){this.authservice.registerUser(this.registrationForm.value).subscribe(e=>{console.log(e.body),e.body.success?(console.log("user added successfully"),this.router.navigate(["/userlog/login"])):(console.log("something went wrong"),this.router.navigate(["/userlog/register"]))})}}return e.\u0275fac=function(r){return new(r||e)(n.Y36(a.qu),n.Y36(l.e),n.Y36(i.F0))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-register"]],decls:34,vars:16,consts:[[1,"register-div"],[1,"register-content"],[1,"page-header"],[3,"formGroup","ngSubmit"],[1,"form-group","mt-2"],["for","fullName"],["type","text","placeholder","Fullname","name","fullName","formControlName","fullName",1,"form-control"],[4,"ngIf"],["for","username"],["type","text","placeholder","Username","name","userName","formControlName","userName",1,"form-control"],["for","email"],["type","email","placeholder","Email","name","email","formControlName","email",1,"form-control"],["for","password"],["type","password","placeholder","Password","name","password","formControlName","password",1,"form-control"],["for","confirmpassword"],["type","password","placeholder","Confirm Password","name","confirmpassword","formControlName","confirmpassword",1,"form-control"],["type","submit",1,"btn","btn-primary","mt-2","me-2"],["type","submit",1,"btn","btn-primary","mt-2",3,"click"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(e,r){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"h1",2),n._uU(3,"Register"),n.qZA(),n.TgZ(4,"form",3),n.NdJ("ngSubmit",function(){return r.registrationFormSubmit()}),n.TgZ(5,"div",4),n.TgZ(6,"label",5),n._uU(7,"Fullname"),n.qZA(),n._UZ(8,"input",6),n.YNc(9,p,2,1,"div",7),n.qZA(),n.TgZ(10,"div",4),n.TgZ(11,"label",8),n._uU(12,"Username"),n.qZA(),n._UZ(13,"input",9),n.YNc(14,f,3,0,"div",7),n.qZA(),n.TgZ(15,"div",4),n.TgZ(16,"label",10),n._uU(17,"Email"),n.qZA(),n._UZ(18,"input",11),n.YNc(19,h,3,0,"div",7),n.qZA(),n.TgZ(20,"div",4),n.TgZ(21,"label",12),n._uU(22,"Password"),n.qZA(),n._UZ(23,"input",13),n.YNc(24,v,3,2,"div",7),n.qZA(),n.TgZ(25,"div",4),n.TgZ(26,"label",14),n._uU(27,"Confirm Password"),n.qZA(),n._UZ(28,"input",15),n.YNc(29,T,3,2,"div",7),n.qZA(),n.TgZ(30,"button",16),n._uU(31,"Submit"),n.qZA(),n.TgZ(32,"button",17),n.NdJ("click",function(){return r.loadexampleApiData()}),n._uU(33,"Load Example"),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(4),n.Q6J("formGroup",r.registrationForm),n.xp6(4),n.ekj("is-invalid",r.fullName.invalid&&r.fullName.touched),n.xp6(1),n.Q6J("ngIf",r.fullName.invalid&&r.fullName.touched),n.xp6(4),n.ekj("is-invalid",r.userName.invalid&&r.userName.touched),n.xp6(1),n.Q6J("ngIf",r.userName.invalid&&r.userName.touched),n.xp6(4),n.ekj("is-invalid",r.email.invalid&&r.email.touched),n.xp6(1),n.Q6J("ngIf",r.email.invalid&&r.email.touched),n.xp6(4),n.ekj("is-invalid",r.password.invalid&&r.password.touched),n.xp6(1),n.Q6J("ngIf",r.password.invalid&&r.password.touched),n.xp6(4),n.ekj("is-invalid",r.confirmpassword.invalid&&r.confirmpassword.touched),n.xp6(1),n.Q6J("ngIf",r.confirmpassword.invalid&&r.confirmpassword.touched))},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,t.O5],styles:[".register-div[_ngcontent-%COMP%]{height:92.1vh;width:100%;background-image:url(Register.e2fc6df3051031756574.jpg);background-size:cover;background-repeat:no-repeat}.register-content[_ngcontent-%COMP%]{display:inline-block;width:30%;margin-top:5%;margin-left:33%}label[_ngcontent-%COMP%]{font-weight:900}.page-header[_ngcontent-%COMP%]{color:#fff;padding-left:35%}"]}),e})()},{path:"dashboard",component:d},{path:"verification",component:(()=>{class e{constructor(e,r,o){this.authservice=e,this.router=r,this.fb=o,this.numberVerificationForm=this.fb.group({phone_number:["",[a.kI.required]]}),this.otpVerificationForm=this.fb.group({otp_number:["",[a.kI.required]]})}ngOnInit(){console.log("verification start"),this.authservice.getProfile().subscribe(e=>{this.userData=e.user})}generateotp(){this.authservice.generateOTP(this.numberVerificationForm.value).subscribe(e=>{console.log(e),e.body.success?console.log("OTP saved successfully"):console.log("OTP not stored")})}verifyotp(){this.authservice.verifyOTP(this.otpVerificationForm.value).subscribe(e=>{console.log("gand",e),e.body.success?(console.log("OTP verified successfully"),this.router.navigate(["userlog/dashboard"])):console.log("OTP didnt verified")},e=>{console.log(e)})}}return e.\u0275fac=function(r){return new(r||e)(n.Y36(l.e),n.Y36(i.F0),n.Y36(a.qu))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-verification"]],decls:16,vars:6,consts:[[1,"verification_container"],[1,"verification_div"],[3,"formGroup"],[1,"mt-2","form-group"],[1,"otp_heading"],["type","tel","name","phone_number","formControlName","phone_number","placeholder","Phone Number",1,"form-control"],["type","button","value","Verify",1,"btn","btn-primary","mt-3",3,"click"],["type","tel","name","otp_number","formControlName","otp_number","placeholder","OTP",1,"form-control"],["type","button","value","Send",1,"btn","btn-primary","mt-3",3,"click"]],template:function(e,r){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"h2"),n._uU(3,"OTP Verification"),n.qZA(),n.TgZ(4,"form",2),n.TgZ(5,"div",3),n.TgZ(6,"h5",4),n._uU(7,"Enter your Mob : "),n.qZA(),n._UZ(8,"input",5),n.TgZ(9,"input",6),n.NdJ("click",function(){return r.generateotp()}),n.qZA(),n.qZA(),n.qZA(),n.TgZ(10,"form",2),n.TgZ(11,"div",3),n.TgZ(12,"h5",4),n._uU(13,"Enter your OTP : "),n.qZA(),n._UZ(14,"input",7),n.TgZ(15,"input",8),n.NdJ("click",function(){return r.verifyotp()}),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(4),n.Q6J("formGroup",r.numberVerificationForm),n.xp6(4),n.ekj("is-invalid",r.numberVerificationForm.get("phone_number").invalid&&r.numberVerificationForm.get("phone_number").touched),n.xp6(2),n.Q6J("formGroup",r.otpVerificationForm),n.xp6(4),n.ekj("is-invalid",r.otpVerificationForm.get("otp_number").invalid&&r.otpVerificationForm.get("otp_number").touched))},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.verification_container[_ngcontent-%COMP%]{display:flex;height:92.1vh;width:100%;justify-content:center;align-items:center;background-color:#b0e0e6}"]}),e})()}]}];let A=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[i.Bz.forChild(_)],i.Bz]}),e})(),N=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[t.ez,a.UX,A]]}),e})()}}]);