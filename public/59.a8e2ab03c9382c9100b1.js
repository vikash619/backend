(self.webpackChunkangular_newsrc=self.webpackChunkangular_newsrc||[]).push([[59],{2059:(e,r,t)=>{"use strict";t.r(r),t.d(r,{UserlogModule:()=>U});var o=t(8583),s=t(5855),i=t(639);let n=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-userlog"]],decls:1,vars:0,template:function(e,r){1&e&&i._UZ(0,"router-outlet")},directives:[s.lC],styles:[""]}),e})();var a=t(665),l=t(892);function u(e,r){1&e&&(i.TgZ(0,"small",18),i._uU(1,"4 digit require"),i.qZA())}let m=(()=>{class e{constructor(e,r,t){this.authservice=e,this.fb=r,this.router=t,this.profileUpdateForm=this.fb.group({fullName:["",a.kI.required],userName:["",a.kI.required],email:["",a.kI.required],password:["",[a.kI.required,a.kI.minLength(4)]],confirmpassword:["",a.kI.required]})}ngOnInit(){this.authservice.getProfile().subscribe(e=>{this.userValue=e.user,this.profileUpdateForm.get("fullName").setValue(this.userValue.fullName),this.profileUpdateForm.get("userName").setValue(this.userValue.userName),this.profileUpdateForm.get("email").setValue(this.userValue.email),this.profileUpdateForm.get("password").setValue(this.userValue.password),this.profileUpdateForm.get("confirmpassword").setValue(this.userValue.confirmpassword)},e=>{console.log(e)})}onprofileupdateform(){this.authservice.updateUser(this.userValue._id,this.profileUpdateForm.value).subscribe(e=>{console.log(e),e.body.success?console.log("profile updated successfully"):console.log("profile not updated")})}}return e.\u0275fac=function(r){return new(r||e)(i.Y36(l.e),i.Y36(a.qu),i.Y36(s.F0))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-dashboard"]],decls:28,vars:2,consts:[[1,"dash-div"],[1,"dash-content"],[1,"page-header"],[3,"formGroup","ngSubmit"],[1,"form-group","mt-2"],["for","fullName"],["type","text","formControlName","fullName",1,"form-control"],["for","userName"],["type","text","formControlName","userName",1,"form-control"],["for","email"],["type","text","formControlName","email",1,"form-control"],["for","password"],["type","password","formControlName","password",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"form-group","mt2"],["for","confirmpassword"],["type","password","formControlName","confirmpassword",1,"form-control"],["type","submit",1,"btn","btn-primary","mt-2"],[1,"text-danger"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"h1",2),i._uU(3,"Dashboard"),i.qZA(),i.TgZ(4,"form",3),i.NdJ("ngSubmit",function(){return r.onprofileupdateform()}),i.TgZ(5,"div",4),i.TgZ(6,"label",5),i._uU(7,"Fullname"),i.qZA(),i._UZ(8,"input",6),i.qZA(),i.TgZ(9,"div",4),i.TgZ(10,"label",7),i._uU(11,"Username"),i.qZA(),i._UZ(12,"input",8),i.qZA(),i.TgZ(13,"div",4),i.TgZ(14,"label",9),i._uU(15,"Email"),i.qZA(),i._UZ(16,"input",10),i.qZA(),i.TgZ(17,"div",4),i.TgZ(18,"label",11),i._uU(19,"Password"),i.qZA(),i._UZ(20,"input",12),i.YNc(21,u,2,0,"small",13),i.qZA(),i.TgZ(22,"div",14),i.TgZ(23,"label",15),i._uU(24,"Confirm Password"),i.qZA(),i._UZ(25,"input",16),i.qZA(),i.TgZ(26,"button",17),i._uU(27,"Update Info"),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(4),i.Q6J("formGroup",r.profileUpdateForm),i.xp6(17),i.Q6J("ngIf",r.profileUpdateForm.get("password").invalid&&r.profileUpdateForm.get("password").touched))},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,o.O5],styles:[".dash-div[_ngcontent-%COMP%]{height:92.1vh;width:100%;background-image:url(Register.e2fc6df3051031756574.jpg);background-size:cover;background-repeat:no-repeat}.dash-content[_ngcontent-%COMP%]{display:inline-block;width:30%;margin-top:5%;margin-left:33%}.page-header[_ngcontent-%COMP%]{color:#000;padding-left:35%}label[_ngcontent-%COMP%]{font-weight:900}"]}),e})();function d(e,r){1&e&&(i.TgZ(0,"small",19),i._uU(1," This is required field "),i.qZA())}function c(e,r){if(1&e&&(i.TgZ(0,"div"),i.YNc(1,d,2,0,"small",18),i.qZA()),2&e){const e=i.oxw();i.xp6(1),i.Q6J("ngIf",null==e.fullName.errors?null:e.fullName.errors.required)}}function g(e,r){1&e&&(i.TgZ(0,"div"),i.TgZ(1,"small",19),i._uU(2," This is required field "),i.qZA(),i.qZA())}function p(e,r){1&e&&(i.TgZ(0,"div"),i.TgZ(1,"small",19),i._uU(2," This is required field "),i.qZA(),i.qZA())}function f(e,r){1&e&&(i.TgZ(0,"small",19),i._uU(1," This is required field "),i.qZA())}function h(e,r){1&e&&(i.TgZ(0,"small",19),i._uU(1," Please write atleast 4 character long password "),i.qZA())}function Z(e,r){if(1&e&&(i.TgZ(0,"div"),i.YNc(1,f,2,0,"small",18),i.YNc(2,h,2,0,"small",18),i.qZA()),2&e){const e=i.oxw();i.xp6(1),i.Q6J("ngIf",null==e.password.errors?null:e.password.errors.required),i.xp6(1),i.Q6J("ngIf",null==e.password.errors?null:e.password.errors.minlength)}}function w(e,r){1&e&&(i.TgZ(0,"small",19),i._uU(1," This is required field "),i.qZA())}function v(e,r){1&e&&(i.TgZ(0,"small",19),i._uU(1," Please write atleast 4 character long password "),i.qZA())}function b(e,r){if(1&e&&(i.TgZ(0,"div"),i.YNc(1,w,2,0,"small",18),i.YNc(2,v,2,0,"small",18),i.qZA()),2&e){const e=i.oxw();i.xp6(1),i.Q6J("ngIf",null==e.confirmpassword.errors?null:e.confirmpassword.errors.required),i.xp6(1),i.Q6J("ngIf",null==e.confirmpassword.errors?null:e.confirmpassword.errors.minlength)}}const q=[{path:"",component:n,children:[{path:"login",component:(()=>{class e{constructor(e,r,t){this.authservice=e,this.fb=r,this.router=t,this.loginForm=this.fb.group({userName:["",a.kI.required],password:["",[a.kI.required,a.kI.minLength(4)]]})}get userName(){return this.loginForm.get("userName")}get password(){return this.loginForm.get("password")}ngOnInit(){}onLoginSubmit(){this.authservice.authenticateUser(this.loginForm.value).subscribe(e=>{console.log(e),e.body.success?(this.authservice.storeUserData(e.body.token,e.body.user),console.log("user logged in"),this.router.navigate(["/userlog/dashboard"])):(console.log("wrong credentional"),this.router.navigate(["/userlog/login"]))})}}return e.\u0275fac=function(r){return new(r||e)(i.Y36(l.e),i.Y36(a.qu),i.Y36(s.F0))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-login"]],decls:17,vars:1,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-4","div-center"],[3,"formGroup","ngSubmit"],[1,"page-header","text-center"],[1,"form-group","mt-2"],["for","username"],["type","text","placeholder","Username","name","username","formControlName","userName",1,"form-control"],["for","password"],["type","password","placeholder","Password","name","password","formControlName","password",1,"form-control"],[1,"text-center"],["type","submit",1,"btn","btn-danger","mt-2","text-center"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"form",3),i.NdJ("ngSubmit",function(){return r.onLoginSubmit()}),i.TgZ(4,"h1",4),i._uU(5,"Login"),i.qZA(),i.TgZ(6,"div",5),i.TgZ(7,"label",6),i._uU(8,"Username"),i.qZA(),i._UZ(9,"input",7),i.qZA(),i.TgZ(10,"div",5),i.TgZ(11,"label",8),i._uU(12,"Password"),i.qZA(),i._UZ(13,"input",9),i.qZA(),i.TgZ(14,"div",10),i.TgZ(15,"button",11),i._uU(16,"Submit"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(3),i.Q6J("formGroup",r.loginForm))},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u],styles:[".container-fluid[_ngcontent-%COMP%]{height:92.1vh;background-image:url(Login.d9832d17a4c106a5607c.jpg);background-repeat:no-repeat;background-attachment:fixed;background-size:cover}.div-center[_ngcontent-%COMP%]{margin:25vh auto}.page-header[_ngcontent-%COMP%]{text-transform:uppercase}label[_ngcontent-%COMP%]{text-transform:capitalize}"]}),e})()},{path:"register",component:(()=>{class e{constructor(e,r,t){this.fb=e,this.authservice=r,this.router=t,this.registrationForm=this.fb.group({fullName:["",[a.kI.required]],userName:["",[a.kI.required]],email:["",[a.kI.required]],password:["",[a.kI.required,a.kI.minLength(4)]],confirmpassword:["",[a.kI.required,a.kI.minLength(4)]]})}get fullName(){return this.registrationForm.get("fullName")}get userName(){return this.registrationForm.get("userName")}get email(){return this.registrationForm.get("email")}get password(){return this.registrationForm.get("password")}get confirmpassword(){return this.registrationForm.get("confirmpassword")}ngOnInit(){}loadexampleApiData(){this.registrationForm.setValue({fullName:"vikash",userName:"vikash619",email:"vikaskmishra619@gmail.com",password:"1111",confirmpassword:"1111"})}registrationFormSubmit(){this.authservice.registerUser(this.registrationForm.value).subscribe(e=>{console.log(e.body),e.body.success?(console.log("user added successfully"),this.router.navigate(["/login"])):(console.log("something went wrong"),this.router.navigate(["/register"]))})}}return e.\u0275fac=function(r){return new(r||e)(i.Y36(a.qu),i.Y36(l.e),i.Y36(s.F0))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-register"]],decls:34,vars:16,consts:[[1,"register-div"],[1,"register-content"],[1,"page-header"],[3,"formGroup","ngSubmit"],[1,"form-group","mt-2"],["for","fullName"],["type","text","placeholder","Fullname","name","fullName","formControlName","fullName",1,"form-control"],[4,"ngIf"],["for","username"],["type","text","placeholder","Username","name","userName","formControlName","userName",1,"form-control"],["for","email"],["type","email","placeholder","Email","name","email","formControlName","email",1,"form-control"],["for","password"],["type","password","placeholder","Password","name","password","formControlName","password",1,"form-control"],["for","confirmpassword"],["type","password","placeholder","Confirm Password","name","confirmpassword","formControlName","confirmpassword",1,"form-control"],["type","submit",1,"btn","btn-primary","mt-2","me-2"],["type","submit",1,"btn","btn-primary","mt-2",3,"click"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"h1",2),i._uU(3,"Register"),i.qZA(),i.TgZ(4,"form",3),i.NdJ("ngSubmit",function(){return r.registrationFormSubmit()}),i.TgZ(5,"div",4),i.TgZ(6,"label",5),i._uU(7,"Fullname"),i.qZA(),i._UZ(8,"input",6),i.YNc(9,c,2,1,"div",7),i.qZA(),i.TgZ(10,"div",4),i.TgZ(11,"label",8),i._uU(12,"Username"),i.qZA(),i._UZ(13,"input",9),i.YNc(14,g,3,0,"div",7),i.qZA(),i.TgZ(15,"div",4),i.TgZ(16,"label",10),i._uU(17,"Email"),i.qZA(),i._UZ(18,"input",11),i.YNc(19,p,3,0,"div",7),i.qZA(),i.TgZ(20,"div",4),i.TgZ(21,"label",12),i._uU(22,"Password"),i.qZA(),i._UZ(23,"input",13),i.YNc(24,Z,3,2,"div",7),i.qZA(),i.TgZ(25,"div",4),i.TgZ(26,"label",14),i._uU(27,"Confirm Password"),i.qZA(),i._UZ(28,"input",15),i.YNc(29,b,3,2,"div",7),i.qZA(),i.TgZ(30,"button",16),i._uU(31,"Submit"),i.qZA(),i.TgZ(32,"button",17),i.NdJ("click",function(){return r.loadexampleApiData()}),i._uU(33,"Load Example"),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(4),i.Q6J("formGroup",r.registrationForm),i.xp6(4),i.ekj("is-invalid",r.fullName.invalid&&r.fullName.touched),i.xp6(1),i.Q6J("ngIf",r.fullName.invalid&&r.fullName.touched),i.xp6(4),i.ekj("is-invalid",r.userName.invalid&&r.userName.touched),i.xp6(1),i.Q6J("ngIf",r.userName.invalid&&r.userName.touched),i.xp6(4),i.ekj("is-invalid",r.email.invalid&&r.email.touched),i.xp6(1),i.Q6J("ngIf",r.email.invalid&&r.email.touched),i.xp6(4),i.ekj("is-invalid",r.password.invalid&&r.password.touched),i.xp6(1),i.Q6J("ngIf",r.password.invalid&&r.password.touched),i.xp6(4),i.ekj("is-invalid",r.confirmpassword.invalid&&r.confirmpassword.touched),i.xp6(1),i.Q6J("ngIf",r.confirmpassword.invalid&&r.confirmpassword.touched))},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,o.O5],styles:[".register-div[_ngcontent-%COMP%]{height:92.1vh;width:100%;background-image:url(Register.e2fc6df3051031756574.jpg);background-size:cover;background-repeat:no-repeat}.register-content[_ngcontent-%COMP%]{display:inline-block;width:30%;margin-top:5%;margin-left:33%}label[_ngcontent-%COMP%]{font-weight:900}.page-header[_ngcontent-%COMP%]{color:#fff;padding-left:35%}"]}),e})()},{path:"dashboard",component:m}]}];let N=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[s.Bz.forChild(q)],s.Bz]}),e})(),U=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[o.ez,a.UX,N]]}),e})()}}]);